<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Blocking Game / 蛇堵棋</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="intro" class="overlay">
  <canvas id="introCanvas" width="1280" height="720"></canvas>
  <button id="replayIntro">Replay / 重播</button>
  <button id="continueIntro">Continue / 继续</button>
</div>

<canvas id="board" width="600" height="600"></canvas>
<div id="message"></div>
<div id="controls">
  <button id="restart">重新开始</button>
  <button id="cutHead" class="hidden">截断头部</button>
  <button id="cutTail" class="hidden">截断尾部</button>
</div>
<div id="login" class="overlay hidden">
  <h2>Online Mode</h2>
  <input id="username" placeholder="Username" />
  <input id="password" type="password" placeholder="Password" />
  <button id="loginBtn">Login</button>
  <div id="loginMsg"></div>
  <div id="scoreBoard"></div>
</div>
<div id="instructions" class="overlay hidden">
  <h1>Snake Blocking Game / 蛇堵棋</h1>
  <p>Goal: block both ends of your opponent's snake.<br>目标：堵死对手蛇的两端。</p>
  <ol>
    <li>Each player starts from any <strong>star point</strong>. 玩家从任意星位开始。</li>
    <li>On your turn, place one stone next to either head or tail of your own snake. 每回合只能在自己蛇首尾相邻处下子。</li>
    <li>An end is <em>blocked</em> when the grid point directly beyond it, along the direction from the previous stone, is off the board or occupied. 若蛇首或蛇尾按照与前一子相同的方向继续前进遭遇棋盘边界或棋子，即判定为堵住。</li>
    <li>If the head is blocked you must cut it off (only once per game). If the tail is blocked you may choose to cut it. 蛇头被堵必须截断（全局仅一次），蛇尾被堵可选择截断。</li>
    <li>After placing five stones, you may move diagonally once on your next turn. If unused that turn, the chance is lost. 每下五子后，下一回合可斜向一步，不使用则机会消失。</li>
    <li>When both ends are blocked, the opponent wins. 若两端被堵，对手获胜。</li>
  </ol>
  <p>Valid moves for the current player are highlighted with green dots. 当前可下位置以绿色点标示。</p>
  <canvas id="demoBoard" width="200" height="200"></canvas>
  <button id="startGame">Start / 开始</button>
  <button id="openLogin">Online / 联机</button>
</div>
<script src="script.js" defer></script>
</body>
</html>